[gd_scene format=3 uid="uid://dksqsb7ouxc4c"]

[ext_resource type="Script" uid="uid://b5ni1gsunoqou" path="res://entities/player/player.gd" id="1_oul6g"]
[ext_resource type="PackedScene" uid="uid://ch27suvq1016w" path="res://Art_Assets/Characters/Rat1/Rat1_rund.glb" id="2_26q78"]
[ext_resource type="PackedScene" uid="uid://c2jvxee34q8qf" path="res://entities/player/player_camera.tscn" id="2_bectd"]
[ext_resource type="Script" uid="uid://dbgwigfu37cer" path="res://entities/components/interactor.gd" id="2_qiwj3"]
[ext_resource type="Script" uid="uid://b4iy4v2v82grv" path="res://entities/components/state_machine/state_machine.gd" id="2_sglur"]
[ext_resource type="Script" uid="uid://c4tmbb57xecu8" path="res://entities/components/state_machine/states/idle.gd" id="3_bls4j"]
[ext_resource type="Script" uid="uid://b2avbdpdqfic5" path="res://entities/components/state_machine/states/interact.gd" id="4_bls4j"]
[ext_resource type="Script" uid="uid://h5au57bu7aot" path="res://entities/components/state_machine/states/run.gd" id="5_fkugw"]
[ext_resource type="Script" uid="uid://kc77v1b4gg6r" path="res://entities/components/movement_component.gd" id="6_8fjmc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kqu6x"]
height = 1.5810547

[sub_resource type="CylinderShape3D" id="CylinderShape3D_bectd"]
height = 4.0
radius = 1.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bectd"]
transparency = 1
albedo_color = Color(0.15, 0.15, 0.15, 0.49019608)

[node name="Player" type="CharacterBody3D" unique_id=461061772]
script = ExtResource("1_oul6g")

[node name="PlayerCamera" parent="." unique_id=290868861 instance=ExtResource("2_bectd")]
transform = Transform3D(1, 0, 0, 0, 0.54411197, 0.8390127, 0, -0.8390127, 0.54411197, 0, 0.3547716, 8.847067)
top_level = true

[node name="AudioListener3D" type="AudioListener3D" parent="PlayerCamera" unique_id=1557908067]
transform = Transform3D(1, 0, 0, 0, 0.997805, -0.066221714, 0, 0.066221714, 0.997805, 0, 7.5531034, -4.8982983)
doppler_tracking = 2
current = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=2113718125]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.20947266, 0)
shape = SubResource("CapsuleShape3D_kqu6x")

[node name="Rat1_rund" parent="." unique_id=174512231 instance=ExtResource("2_26q78")]
transform = Transform3D(-1.5, 0, 2.2649371e-07, 0, 1.5, 0, -2.2649371e-07, 0, -1.5, 0, -0.8398146, 0.04616058)

[node name="Skeleton3D" parent="Rat1_rund/Rat1_Run" parent_id_path=PackedInt32Array(174512231, 1427726434) index="0" unique_id=799261620]
bones/0/position = Vector3(-0.0056052813, -0.00881362, -1.2906328)
bones/0/rotation = Quaternion(-0.72142833, -0.0028780808, 0.0011299809, 0.6924823)
bones/1/rotation = Quaternion(0.084363826, 0.0010930289, -0.001445069, 0.99643344)
bones/2/rotation = Quaternion(0.08724043, 0.0015062155, 0.0005970603, 0.99618596)
bones/3/rotation = Quaternion(0.08723954, 0.001577945, 0.00053510413, 0.996186)
bones/4/rotation = Quaternion(0.041972328, 0.006873085, 0.0051960465, 0.9990816)
bones/5/rotation = Quaternion(-0.18933152, 0.025872963, 0.0021695793, 0.98156995)
bones/7/rotation = Quaternion(0.63558906, 0.49291998, -0.43957818, 0.39978442)
bones/8/rotation = Quaternion(0.17790361, 0.006836837, 0.36478004, 0.9139142)
bones/9/rotation = Quaternion(0.002222811, -0.04958765, 0.24597856, 0.9680035)
bones/10/rotation = Quaternion(0.11212655, -0.17157121, -0.06279049, 0.97675395)
bones/11/rotation = Quaternion(0.05810351, 0.06804237, 0.18088308, 0.97942615)
bones/12/rotation = Quaternion(0.061169382, -0.01619401, -0.21460304, 0.97464955)
bones/13/rotation = Quaternion(0.019185327, -0.0021696608, -0.111561164, 0.99357)
bones/15/rotation = Quaternion(0.42531547, -0.031068817, -0.07147625, 0.90168333)
bones/16/rotation = Quaternion(0.47022456, -0.016100442, -0.13805541, 0.87153333)
bones/17/rotation = Quaternion(0.12597074, 0.0023031726, -0.08432259, 0.9884411)
bones/19/rotation = Quaternion(0.6194626, -0.49349016, 0.43758786, 0.42573515)
bones/20/rotation = Quaternion(0.28685495, 0.12312862, -0.3067968, 0.899127)
bones/21/rotation = Quaternion(0.0020238187, 0.0320425, -0.15888333, 0.9867752)
bones/22/rotation = Quaternion(0.12946188, 0.058349095, -0.073875286, 0.98710567)
bones/23/rotation = Quaternion(0.21164973, 0.021465369, -0.15634269, 0.96452093)
bones/24/rotation = Quaternion(0.03725529, -0.038579594, 0.32519555, 0.9441248)
bones/25/rotation = Quaternion(-0.0021380137, -0.010017401, 0.039074752, 0.9991838)
bones/27/rotation = Quaternion(0.31002253, 0.03261059, -0.036136698, 0.9494824)
bones/28/rotation = Quaternion(0.70497686, 0.025942033, 0.16340324, 0.6896623)
bones/29/rotation = Quaternion(0.21944413, -0.004568293, 0.10441679, 0.9700106)
bones/31/rotation = Quaternion(-0.021162562, -0.06893374, -0.9711593, 0.22726658)
bones/32/rotation = Quaternion(-0.5847677, -0.5035221, -0.07082397, 0.63205713)
bones/33/rotation = Quaternion(0.8196808, 0.45769826, -0.13522154, 0.31678218)
bones/34/rotation = Quaternion(0.13485177, 0.0071002664, 0.09553534, 0.9862239)
bones/36/rotation = Quaternion(-0.17495951, 0.18383299, 0.94713694, 0.19628073)
bones/37/rotation = Quaternion(-0.5545971, 0.3519851, -0.029654369, 0.75342506)
bones/38/rotation = Quaternion(0.7790345, -0.40148386, 0.047126085, 0.4792653)
bones/39/rotation = Quaternion(0.12854348, -0.010388348, -0.092648916, 0.9873119)

[node name="Rat1PM3D_Sphere3D_3_002" parent="Rat1_rund/Rat1_Run/Skeleton3D" index="0" unique_id=1440242579]
transform = Transform3D(1, -1.4210855e-14, 0, 1.4210855e-14, 1, 0, 0, 0, 1, 0, 0, -0.08724666)

[node name="Body" type="CSGCylinder3D" parent="." unique_id=829177861]
visible = false

[node name="Arm" type="CSGBox3D" parent="Body" unique_id=2036429401]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.1998088)
size = Vector3(0.5, 0.5, 1.8202636)

[node name="Interactor" type="Node3D" parent="." unique_id=730510895 node_paths=PackedStringArray("player_camera", "character")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.0473077)
script = ExtResource("2_qiwj3")
inventory_size = 20
player_camera = NodePath("../PlayerCamera")
character = NodePath("..")

[node name="HoldSpotMarker" type="Marker3D" parent="Interactor" unique_id=909458360]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9301007, 0.7667363)

[node name="DropSpotMarker" type="Marker3D" parent="Interactor" unique_id=694664943]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.0473077)
top_level = true

[node name="GrabMarker" type="Marker3D" parent="Interactor" unique_id=1241668466]
unique_name_in_owner = true
top_level = true

[node name="GrabArea" type="Area3D" parent="Interactor/GrabMarker" unique_id=1083953350]
unique_name_in_owner = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Interactor/GrabMarker/GrabArea" unique_id=432754600]
shape = SubResource("CylinderShape3D_bectd")

[node name="CSGSphere3D" type="CSGSphere3D" parent="Interactor/GrabMarker/GrabArea" unique_id=810937921]
visible = false
radius = 0.25

[node name="RayDisplay" type="Node3D" parent="Interactor/GrabMarker" unique_id=2080063647]
unique_name_in_owner = true
transform = Transform3D(1, 1.5942803e-13, 0, 8.348877e-14, 1, 0, 0, 5.684342e-14, 1, 0, -0.0039609373, 0)

[node name="CSGTorus3D" type="CSGTorus3D" parent="Interactor/GrabMarker/RayDisplay" unique_id=378542898]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.785126e-15, 0.061376452, -3.4888474e-15)
inner_radius = 0.88
outer_radius = 0.724
sides = 16
material = SubResource("StandardMaterial3D_bectd")

[node name="MovementComponent" type="Node" parent="." unique_id=512620162 node_paths=PackedStringArray("character")]
script = ExtResource("6_8fjmc")
character = NodePath("..")
speed = 10.0
metadata/_custom_type_script = "uid://kc77v1b4gg6r"

[node name="StateMachine" type="Node" parent="." unique_id=690554229 node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_sglur")
initial_state = NodePath("Idle")
metadata/_custom_type_script = "uid://b4iy4v2v82grv"

[node name="Idle" type="Node" parent="StateMachine" unique_id=1361308190 node_paths=PackedStringArray("animation_player")]
script = ExtResource("3_bls4j")
animation_player = NodePath("../../Rat1_rund/AnimationPlayer")
metadata/_custom_type_script = "uid://c4tmbb57xecu8"

[node name="Interact" type="Node" parent="StateMachine" unique_id=339015851 node_paths=PackedStringArray("animation_player", "player_camera", "character")]
script = ExtResource("4_bls4j")
animation_player = NodePath("../../Rat1_rund/AnimationPlayer")
player_camera = NodePath("../../PlayerCamera")
character = NodePath("../..")
metadata/_custom_type_script = "uid://b2avbdpdqfic5"

[node name="Run" type="Node" parent="StateMachine" unique_id=938482072 node_paths=PackedStringArray("character", "anim_player", "movement_component")]
script = ExtResource("5_fkugw")
character = NodePath("../..")
anim_player = NodePath("../../Rat1_rund/AnimationPlayer")
movement_component = NodePath("../../MovementComponent")
metadata/_custom_type_script = "uid://h5au57bu7aot"

[node name="SpotLight3D" type="SpotLight3D" parent="." unique_id=681335671]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 2.3985412, -0.17824405)
light_color = Color(0.91764706, 0.8509804, 0.7607843, 1)
light_energy = 3.0
spot_range = 4.0
spot_angle = 26.81

[editable path="Rat1_rund"]
